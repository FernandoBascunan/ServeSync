spring:
  application:
    name: api-gateway
  cloud:
    gateway:
      globalcors:
        corsConfigurations:
          '[/**]':
            allowedOrigins: "http://localhost:3000"
            allowedMethods: "*"
            allowedHeaders: "*"
            allowCredentials: true
      default-filters:
        - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials
      server:
        webflux:
          routes:
            - id: users-service
              uri: http://localhost:8081
              predicates:
                - Path=/api/usuarios/**

            - id: inventario-service
              uri: http://localhost:8082
              predicates:
                - Path=/api/inventario/**
              filters:
                - StripPrefix=0

            - id: mesas-service
              uri: http://localhost:8083
              predicates:
                - Path=/api/mesas/**
              filters:
                - StripPrefix=0

            - id: prophet-service
              uri: http://localhost:8000
              predicates:
                - Path=/prophet
              filters:
                - StripPrefix=1
